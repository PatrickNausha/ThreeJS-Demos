{"mappings":"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","sources":["src/music-demo.js","node_modules/three/examples/jsm/helpers/RectAreaLightHelper.js","node_modules/stats-js/build/stats.min.js","src/debug-stats.js"],"sourcesContent":["import * as THREE from \"three\";\nimport * as Tone from \"tone\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\nimport { Reflector } from \"./reflector\";\nimport { RectAreaLightHelper } from \"three/examples/jsm/helpers/RectAreaLightHelper\";\nimport { RectAreaLightUniformsLib } from \"three/examples/jsm/lights/RectAreaLightUniformsLib\";\nimport { updateStats, toggleStats } from \"./debug-stats\";\nimport { slamItOnTheGround } from \"./positioning\";\n\nlet renderer, scene, camera, rectLight1, rectLight2, rectLight3, rectLightHelper1, rectLightHelper2, rectLightHelper3;\n\ninit();\n\nfunction init() {\n\ttoggleStats();\n\n\trenderer = new THREE.WebGLRenderer({ antialias: true });\n\trenderer.setPixelRatio(window.devicePixelRatio);\n\trenderer.setSize(window.innerWidth, window.innerHeight);\n\trenderer.setAnimationLoop(animation);\n\trenderer.outputEncoding = THREE.sRGBEncoding;\n\tdocument.body.appendChild(renderer.domElement);\n\n\tcamera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 1000);\n\tcamera.position.set(0, 12, -15);\n\n\tscene = new THREE.Scene();\n\n\tconst worldSize = 480;\n\tconst lightWidth = 20;\n\tconst lightGap = 8;\n\tRectAreaLightUniformsLib.init();\n\trectLight1 = new THREE.RectAreaLight(0x90e5de, 5, lightWidth, worldSize / 2);\n\trectLight1.position.set(-lightWidth - lightGap, 24, worldSize / 2);\n\tscene.add(rectLight1);\n\n\trectLight2 = new THREE.RectAreaLight(0x21e7bd, 5, lightWidth, worldSize / 2);\n\trectLight2.position.set(0, 24, worldSize / 2);\n\tscene.add(rectLight2);\n\n\trectLight3 = new THREE.RectAreaLight(0xefa20e, 5, lightWidth, worldSize / 2);\n\trectLight3.position.set(lightWidth + lightGap, 24, worldSize / 2);\n\tscene.add(rectLight3);\n\n\trectLightHelper1 = new RectAreaLightHelper(rectLight1, 0x4ee9bf);\n\trectLightHelper2 = new RectAreaLightHelper(rectLight2, 0x21e7bd);\n\trectLightHelper3 = new RectAreaLightHelper(rectLight3, 0xeda401);\n\n\t// rectLight1.visible = false;\n\t// rectLightHelper1.visible = false;\n\t// rectLight2.visible = false;\n\t// rectLightHelper2.visible = false;\n\t// rectLight3.visible = false;\n\t// rectLightHelper3.visible = false;\n\n\tscene.add(rectLightHelper1);\n\tscene.add(rectLightHelper2);\n\tscene.add(rectLightHelper3);\n\n\tconst geoFloor = new THREE.PlaneGeometry(worldSize, worldSize);\n\tconst groundMirror = new Reflector(geoFloor, {\n\t\tclipBias: 0.003,\n\t\ttextureWidth: window.innerWidth * window.devicePixelRatio,\n\t\ttextureHeight: window.innerHeight * window.devicePixelRatio,\n\t\tcolor: 0x777777,\n\t});\n\tgroundMirror.rotateX(-Math.PI / 2);\n\tscene.add(groundMirror);\n\n\tconst matStdFloor = new THREE.MeshStandardMaterial({\n\t\tcolor: 0x707070,\n\t\troughness: 0.2,\n\t\tmetalness: 0,\n\t\ttransparent: true,\n\t\topacity: 0.5,\n\t\tdepthFunc: THREE.EqualDepth, // Match reflector depth exactly\n\t});\n\tconst mshStdFloor = new THREE.Mesh(geoFloor, matStdFloor);\n\tmshStdFloor.rotation.x = -Math.PI / 2;\n\tscene.add(mshStdFloor);\n\n\tconst geoKnot = new THREE.TetrahedronGeometry(4);\n\tgeoKnot.applyMatrix4(\n\t\tnew THREE.Matrix4().makeRotationAxis(new THREE.Vector3(1, 0, -1).normalize(), Math.atan(Math.sqrt(2)))\n\t);\n\tconst matKnot = new THREE.MeshStandardMaterial({ color: 0xffffff, roughness: 0, metalness: 0.9 });\n\tconst minX = -100;\n\tconst maxX = 100;\n\tconst minZ = 20;\n\tconst maxZ = 200;\n\tfor (let x = minX; x < maxX; x += 20) {\n\t\tfor (let z = minZ; z < maxZ; z += 20) {\n\t\t\tconst meshKnot = new THREE.Mesh(geoKnot, matKnot);\n\t\t\tslamItOnTheGround(meshKnot, x, z);\n\t\t\tscene.add(meshKnot);\n\t\t}\n\t}\n\n\tconst controls = new OrbitControls(camera, renderer.domElement);\n\tcontrols.target.set(0, 12, 10);\n\tcontrols.update();\n\n\twindow.addEventListener(\"resize\", onWindowResize);\n}\n\n// const dist = new Tone.PingPongDelay(\"8n\", 0.8).toDestination();\nconst synth = new Tone.PolySynth(Tone.Synth);\n// synth.connect(dist);\nsynth.toDestination();\n\n//create a synth and connect it to the main output (your speakers)\nlet resolveTonePromise;\nconst tonePromise = new Promise((resolve) => {\n\t// resolveTonePromise = resolve;\n});\ndocument.body.addEventListener(\"click\", () => {\n\tTone.start().then(resolveTonePromise);\n});\n\nfunction onWindowResize() {\n\trenderer.setSize(window.innerWidth, window.innerHeight);\n\tcamera.aspect = window.innerWidth / window.innerHeight;\n\tcamera.updateProjectionMatrix();\n}\n\nfunction animation(time) {\n\t// const mesh = scene.getObjectByName(\"meshKnot\");\n\t// mesh.rotation.y = time / 1000;\n\n\trenderer.render(scene, camera);\n\tupdateStats();\n}\n\ntonePromise.then(() => {\n\tsetInterval(() => {\n\t\trectLight1.visible = !rectLight1.visible;\n\t\trectLightHelper1.visible = !rectLightHelper1.visible;\n\n\t\tif (rectLight1.visible) {\n\t\t\tsynth.triggerAttack(\"C3\");\n\t\t} else {\n\t\t\tsynth.triggerRelease(\"C3\");\n\t\t}\n\t}, 1000);\n\n\tsetInterval(() => {\n\t\trectLight2.visible = !rectLight2.visible;\n\t\trectLightHelper2.visible = !rectLightHelper2.visible;\n\n\t\tif (rectLight2.visible) {\n\t\t\tsynth.triggerAttack(\"E3\");\n\t\t} else {\n\t\t\tsynth.triggerRelease(\"E3\");\n\t\t}\n\t}, 500);\n\n\tsetInterval(() => {\n\t\trectLight3.visible = !rectLight3.visible;\n\t\trectLightHelper3.visible = !rectLightHelper3.visible;\n\n\t\tif (rectLight3.visible) {\n\t\t\tsynth.triggerAttack(\"G3\");\n\t\t} else {\n\t\t\tsynth.triggerRelease(\"G3\");\n\t\t}\n\t}, 1250);\n});\n","import {\n\tBackSide,\n\tBufferGeometry,\n\tFloat32BufferAttribute,\n\tLine,\n\tLineBasicMaterial,\n\tMesh,\n\tMeshBasicMaterial\n} from 'three';\n\n/**\n *  This helper must be added as a child of the light\n */\n\nclass RectAreaLightHelper extends Line {\n\n\tconstructor( light, color ) {\n\n\t\tconst positions = [ 1, 1, 0, - 1, 1, 0, - 1, - 1, 0, 1, - 1, 0, 1, 1, 0 ];\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\t\tgeometry.computeBoundingSphere();\n\n\t\tconst material = new LineBasicMaterial( { fog: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.light = light;\n\t\tthis.color = color; // optional hardwired color for the helper\n\t\tthis.type = 'RectAreaLightHelper';\n\n\t\t//\n\n\t\tconst positions2 = [ 1, 1, 0, - 1, 1, 0, - 1, - 1, 0, 1, 1, 0, - 1, - 1, 0, 1, - 1, 0 ];\n\n\t\tconst geometry2 = new BufferGeometry();\n\t\tgeometry2.setAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\t\tgeometry2.computeBoundingSphere();\n\n\t\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { side: BackSide, fog: false } ) ) );\n\n\t}\n\n\tupdateMatrixWorld() {\n\n\t\tthis.scale.set( 0.5 * this.light.width, 0.5 * this.light.height, 1 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\t\t\tthis.children[ 0 ].material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.material.color.copy( this.light.color ).multiplyScalar( this.light.intensity );\n\n\t\t\t// prevent hue shift\n\t\t\tconst c = this.material.color;\n\t\t\tconst max = Math.max( c.r, c.g, c.b );\n\t\t\tif ( max > 1 ) c.multiplyScalar( 1 / max );\n\n\t\t\tthis.children[ 0 ].material.color.copy( this.material.color );\n\n\t\t}\n\n\t\t// ignore world scale on light\n\t\tthis.matrixWorld.extractRotation( this.light.matrixWorld ).scale( this.scale ).copyPosition( this.light.matrixWorld );\n\n\t\tthis.children[ 0 ].matrixWorld.copy( this.matrixWorld );\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\t\tthis.children[ 0 ].geometry.dispose();\n\t\tthis.children[ 0 ].material.dispose();\n\n\t}\n\n}\n\nexport { RectAreaLightHelper };\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):e.Stats=t()}(this,function(){\"use strict\";var c=function(){var n=0,l=document.createElement(\"div\");function e(e){return l.appendChild(e.dom),e}function t(e){for(var t=0;t<l.children.length;t++)l.children[t].style.display=t===e?\"block\":\"none\";n=e}l.style.cssText=\"position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000\",l.addEventListener(\"click\",function(e){e.preventDefault(),t(++n%l.children.length)},!1);var i=(performance||Date).now(),a=i,o=0,f=e(new c.Panel(\"FPS\",\"#0ff\",\"#002\")),r=e(new c.Panel(\"MS\",\"#0f0\",\"#020\"));if(self.performance&&self.performance.memory)var d=e(new c.Panel(\"MB\",\"#f08\",\"#201\"));return t(0),{REVISION:16,dom:l,addPanel:e,showPanel:t,begin:function(){i=(performance||Date).now()},end:function(){o++;var e=(performance||Date).now();if(r.update(e-i,200),a+1e3<=e&&(f.update(1e3*o/(e-a),100),a=e,o=0,d)){var t=performance.memory;d.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){i=this.end()},domElement:l,setMode:t}};return c.Panel=function(n,l,i){var a=1/0,o=0,f=Math.round,r=f(window.devicePixelRatio||1),d=80*r,e=48*r,c=3*r,p=2*r,u=3*r,s=15*r,m=74*r,h=30*r,y=document.createElement(\"canvas\");y.width=d,y.height=e,y.style.cssText=\"width:80px;height:48px\";var v=y.getContext(\"2d\");return v.font=\"bold \"+9*r+\"px Helvetica,Arial,sans-serif\",v.textBaseline=\"top\",v.fillStyle=i,v.fillRect(0,0,d,e),v.fillStyle=l,v.fillText(n,c,p),v.fillRect(u,s,m,h),v.fillStyle=i,v.globalAlpha=.9,v.fillRect(u,s,m,h),{dom:y,update:function(e,t){a=Math.min(a,e),o=Math.max(o,e),v.fillStyle=i,v.globalAlpha=1,v.fillRect(0,0,d,s),v.fillStyle=l,v.fillText(f(e)+\" \"+n+\" (\"+f(a)+\"-\"+f(o)+\")\",c,p),v.drawImage(y,u+r,s,m-r,h,u,s,m-r,h),v.fillRect(u+m-r,s,r,h),v.fillStyle=i,v.globalAlpha=.9,v.fillRect(u+m-r,s,r,f((1-e/t)*h))}}},c});\n","import Stats from \"stats-js\";\n\nconst stats = new Stats();\nstats.showPanel(0); // 0: fps, 1: ms, 2: mb, 3+: custom\n\nexport function updateStats() {\n\tstats.update();\n}\n\nlet showStats = false;\nexport function toggleStats() {\n\tshowStats = !showStats;\n\tif (showStats) {\n\t\tdocument.body.appendChild(stats.dom);\n\t} else {\n\t\tstats.dom.remove();\n\t}\n}\n"],"names":["$ilwiq","parcelRequire","$2071027abe80b25a$export$f018feef8fd90e4b","Line","constructor","light","color","geometry","BufferGeometry","setAttribute","Float32BufferAttribute","computeBoundingSphere","super","LineBasicMaterial","fog","this","type","geometry2","add","Mesh","MeshBasicMaterial","side","BackSide","updateMatrixWorld","scale","set","width","height","undefined","material","children","copy","multiplyScalar","intensity","c","max","Math","r","g","b","matrixWorld","extractRotation","copyPosition","dispose","c1","n","l","document","createElement","e1","e","appendChild","dom","t1","t","length","style","display","cssText","addEventListener","preventDefault","i","performance","Date","now","a","o","f","Panel","self","memory","d","REVISION","addPanel","showPanel","begin","end","update","usedJSHeapSize","jsHeapSizeLimit","domElement","setMode","round","window","devicePixelRatio","e2","p","u","s","m","h","y","v","getContext","font","textBaseline","fillStyle","fillRect","fillText","globalAlpha","min","drawImage","$4e8ca3b77ae34b4b$var$stats","$parcel$interopDefault","$4e8ca3b77ae34b4b$var$showStats","$40f8eb7a5e4d3412$var$renderer","$40f8eb7a5e4d3412$var$scene","$40f8eb7a5e4d3412$var$camera","$40f8eb7a5e4d3412$var$rectLight1","$40f8eb7a5e4d3412$var$rectLight2","$40f8eb7a5e4d3412$var$rectLight3","$40f8eb7a5e4d3412$var$rectLightHelper1","$40f8eb7a5e4d3412$var$rectLightHelper2","$40f8eb7a5e4d3412$var$rectLightHelper3","body","remove","WebGLRenderer","antialias","setPixelRatio","setSize","innerWidth","innerHeight","setAnimationLoop","$40f8eb7a5e4d3412$var$animation","outputEncoding","sRGBEncoding","PerspectiveCamera","position","Scene","worldSize","$lhJUT","RectAreaLightUniformsLib","init","RectAreaLight","lightWidth","geoFloor","PlaneGeometry","groundMirror","$1kdUw","Reflector","clipBias","textureWidth","textureHeight","rotateX","PI","matStdFloor","MeshStandardMaterial","roughness","metalness","transparent","opacity","depthFunc","EqualDepth","mshStdFloor","rotation","x","geoKnot","TetrahedronGeometry","applyMatrix4","Matrix4","makeRotationAxis","Vector3","normalize","atan","sqrt","matKnot","z","meshKnot","$8zoxG","slamItOnTheGround","controls","$5Rd1x","OrbitControls","target","$40f8eb7a5e4d3412$var$onWindowResize","$40f8eb7a5e4d3412$var$init","$40f8eb7a5e4d3412$var$synth","$jzIcS","PolySynth","Synth","toDestination","$40f8eb7a5e4d3412$var$tonePromise","Promise","resolve","aspect","updateProjectionMatrix","time","render","start","then","$40f8eb7a5e4d3412$var$resolveTonePromise","setInterval","visible","triggerAttack","triggerRelease"],"version":3,"file":"music.f20a3059.js.map"}