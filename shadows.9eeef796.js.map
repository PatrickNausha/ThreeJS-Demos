{"mappings":"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","sources":["<anon>","src/shadows-demo.js","src/debug-stats.js","node_modules/stats-js/build/stats.min.js","src/lights.js","src/positioning.js"],"sourcesContent":["(function () {\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire1287\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire1287\"] = parcelRequire;\n}\n\nvar $6OvZu = parcelRequire(\"6OvZu\");\n\nvar $3bF5H = parcelRequire(\"3bF5H\");\nvar $5a9133f987667d9e$exports = {};\n!function(e, t) {\n    $5a9133f987667d9e$exports = t();\n}($5a9133f987667d9e$exports, function() {\n    \"use strict\";\n    var c = function() {\n        var n = 0, l = document.createElement(\"div\");\n        function e(e) {\n            return l.appendChild(e.dom), e;\n        }\n        function t(e) {\n            for(var t = 0; t < l.children.length; t++)l.children[t].style.display = t === e ? \"block\" : \"none\";\n            n = e;\n        }\n        l.style.cssText = \"position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000\", l.addEventListener(\"click\", function(e) {\n            e.preventDefault(), t(++n % l.children.length);\n        }, !1);\n        var i = (performance || Date).now(), a = i, o = 0, f = e(new c.Panel(\"FPS\", \"#0ff\", \"#002\")), r = e(new c.Panel(\"MS\", \"#0f0\", \"#020\"));\n        if (self.performance && self.performance.memory) var d = e(new c.Panel(\"MB\", \"#f08\", \"#201\"));\n        return t(0), {\n            REVISION: 16,\n            dom: l,\n            addPanel: e,\n            showPanel: t,\n            begin: function() {\n                i = (performance || Date).now();\n            },\n            end: function() {\n                o++;\n                var e = (performance || Date).now();\n                if (r.update(e - i, 200), a + 1e3 <= e && (f.update(1e3 * o / (e - a), 100), a = e, o = 0, d)) {\n                    var t = performance.memory;\n                    d.update(t.usedJSHeapSize / 1048576, t.jsHeapSizeLimit / 1048576);\n                }\n                return e;\n            },\n            update: function() {\n                i = this.end();\n            },\n            domElement: l,\n            setMode: t\n        };\n    };\n    return c.Panel = function(n, l, i) {\n        var a = 1 / 0, o = 0, f = Math.round, r = f(window.devicePixelRatio || 1), d = 80 * r, e = 48 * r, c = 3 * r, p = 2 * r, u = 3 * r, s = 15 * r, m = 74 * r, h = 30 * r, y = document.createElement(\"canvas\");\n        y.width = d, y.height = e, y.style.cssText = \"width:80px;height:48px\";\n        var v = y.getContext(\"2d\");\n        return v.font = \"bold \" + 9 * r + \"px Helvetica,Arial,sans-serif\", v.textBaseline = \"top\", v.fillStyle = i, v.fillRect(0, 0, d, e), v.fillStyle = l, v.fillText(n, c, p), v.fillRect(u, s, m, h), v.fillStyle = i, v.globalAlpha = .9, v.fillRect(u, s, m, h), {\n            dom: y,\n            update: function(e, t) {\n                a = Math.min(a, e), o = Math.max(o, e), v.fillStyle = i, v.globalAlpha = 1, v.fillRect(0, 0, d, s), v.fillStyle = l, v.fillText(f(e) + \" \" + n + \" (\" + f(a) + \"-\" + f(o) + \")\", c, p), v.drawImage(y, u + r, s, m - r, h, u, s, m - r, h), v.fillRect(u + m - r, s, r, h), v.fillStyle = i, v.globalAlpha = .9, v.fillRect(u + m - r, s, r, f((1 - e / t) * h));\n            }\n        };\n    }, c;\n});\n\n\nconst $9a0281efa5d1b360$var$stats = new (0, (/*@__PURE__*/$parcel$interopDefault($5a9133f987667d9e$exports)))();\n$9a0281efa5d1b360$var$stats.showPanel(0); // 0: fps, 1: ms, 2: mb, 3+: custom\nfunction $9a0281efa5d1b360$export$f4fa5dfc8595aab7() {\n    $9a0281efa5d1b360$var$stats.update();\n}\nlet $9a0281efa5d1b360$var$showStats = false;\nfunction $9a0281efa5d1b360$export$83c65e7868c10750() {\n    $9a0281efa5d1b360$var$showStats = !$9a0281efa5d1b360$var$showStats;\n    if ($9a0281efa5d1b360$var$showStats) document.body.appendChild($9a0281efa5d1b360$var$stats.dom);\n    else $9a0281efa5d1b360$var$stats.dom.remove();\n}\n\n\n\nvar $6OvZu = parcelRequire(\"6OvZu\");\nconst $f8e1894b492f037f$var$lights = [];\nconst $f8e1894b492f037f$var$lightHelperSize = 0.1;\nfunction $f8e1894b492f037f$export$9a196848560006bb(scene, light) {\n    const pointLightHelper = new (0, $6OvZu.PointLightHelper)(light, $f8e1894b492f037f$var$lightHelperSize);\n    pointLightHelper.visible = false;\n    scene.add(light);\n    scene.add(pointLightHelper);\n    const debugableLight = {\n        light: light,\n        setDebugLightOn: (value)=>{\n            pointLightHelper.visible = value;\n        }\n    };\n    $f8e1894b492f037f$var$lights.push(debugableLight);\n    return debugableLight;\n}\nfunction $f8e1894b492f037f$export$f5aad2eed8a5f1e1(value) {\n    for (const light of $f8e1894b492f037f$var$lights)light.setDebugLightOn(value);\n}\n\n\n\nvar $6OvZu = parcelRequire(\"6OvZu\");\nfunction $59b73570dc707e75$export$29750db5b923b987(mesh, x, z, groundLevel = 0) {\n    if (!mesh.geometry.boundingBox) mesh.geometry.computeBoundingBox();\n    mesh.position.x = x;\n    mesh.position.y = groundLevel - mesh.geometry.boundingBox.min.y;\n    mesh.position.z = z;\n}\nfunction $59b73570dc707e75$export$eba5455c03d28c3f(mesh) {\n    if (!mesh.geometry.boundingBox) mesh.geometry.computeBoundingBox();\n    // For some reason, Three requires a Vector3 passed into getSize\n    mesh.position.x = -mesh.geometry.boundingBox.getSize(new (0, $6OvZu.Vector3)()).x / 2;\n    mesh.position.y = -mesh.geometry.boundingBox.getSize(new (0, $6OvZu.Vector3)()).y / 2;\n    mesh.position.z = -mesh.geometry.boundingBox.getSize(new (0, $6OvZu.Vector3)()).z / 2;\n}\n\n\n\nvar $dUO1w = parcelRequire(\"dUO1w\");\nconst $667bd3e97c15c201$var$shadowMaps = [\n    (0, $6OvZu.PCFSoftShadowMap),\n    (0, $6OvZu.VSMShadowMap),\n    (0, $6OvZu.PCFShadowMap)\n];\nconst $667bd3e97c15c201$var$ambientLightColor = 0x111111;\nconst $667bd3e97c15c201$var$renderer = new (0, $6OvZu.WebGLRenderer)({\n    antialias: true\n});\n$667bd3e97c15c201$var$renderer.shadowMap.enabled = true;\n$667bd3e97c15c201$var$renderer.shadowMap.type = $667bd3e97c15c201$var$shadowMaps[0];\n$667bd3e97c15c201$var$renderer.setClearColor($667bd3e97c15c201$var$ambientLightColor);\n$667bd3e97c15c201$var$renderer.setSize(window.innerWidth, window.innerHeight);\ndocument.body.appendChild($667bd3e97c15c201$var$renderer.domElement);\n// In the beginning ...\nconst $667bd3e97c15c201$var$scene = new (0, $6OvZu.Scene)();\n// Camera\nconst $667bd3e97c15c201$var$camera = new (0, $6OvZu.PerspectiveCamera)(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n$667bd3e97c15c201$var$camera.position.x = 5;\n$667bd3e97c15c201$var$camera.position.y = 5;\n$667bd3e97c15c201$var$camera.position.z = 5;\nconst $667bd3e97c15c201$var$controls = new (0, $3bF5H.OrbitControls)($667bd3e97c15c201$var$camera, $667bd3e97c15c201$var$renderer.domElement);\n$667bd3e97c15c201$var$controls.maxPolarAngle = Math.PI * 0.45;\nconst $667bd3e97c15c201$var$plainMaterial = new (0, $6OvZu.MeshStandardMaterial)();\n// Add the ground\nconst $667bd3e97c15c201$var$groundMesh = new (0, $6OvZu.Mesh)(new (0, $6OvZu.PlaneBufferGeometry)(1000, 1000), $667bd3e97c15c201$var$plainMaterial);\n$667bd3e97c15c201$var$groundMesh.receiveShadow = true;\n$667bd3e97c15c201$var$groundMesh.rotation.x = -Math.PI / 2;\n$667bd3e97c15c201$var$scene.add($667bd3e97c15c201$var$groundMesh);\n// Add models\nconst $667bd3e97c15c201$var$spheres = [];\nconst $667bd3e97c15c201$var$boxes = [];\nfor(let x = -10; x <= 10; x += 5)for(let z = -10; z <= 10; z += 5){\n    const sphere = new (0, $6OvZu.Mesh)(new (0, $6OvZu.SphereGeometry)(1, 20, 20), $667bd3e97c15c201$var$plainMaterial);\n    sphere.position.set(x, 0, z);\n    sphere.castShadow = true;\n    sphere.receiveShadow = true;\n    (0, $59b73570dc707e75$export$29750db5b923b987)(sphere, x, z, 0);\n    $667bd3e97c15c201$var$spheres.push(sphere);\n    $667bd3e97c15c201$var$scene.add(sphere);\n    const box = new (0, $6OvZu.Mesh)(new (0, $6OvZu.BoxGeometry)(2, 2, 2), $667bd3e97c15c201$var$plainMaterial);\n    box.position.set(x, 0, z);\n    box.castShadow = true;\n    box.receiveShadow = true;\n    (0, $59b73570dc707e75$export$29750db5b923b987)(box, x, z, 0);\n    $667bd3e97c15c201$var$boxes.push(box);\n    $667bd3e97c15c201$var$scene.add(box);\n}\nconst $667bd3e97c15c201$var$models = [\n    ...$667bd3e97c15c201$var$spheres,\n    ...$667bd3e97c15c201$var$boxes\n];\n// Lights\nconst $667bd3e97c15c201$var$whiteLight = new (0, $6OvZu.PointLight)(0xffffff, 1, 10, 2);\n$667bd3e97c15c201$var$whiteLight.castShadow = true;\n$667bd3e97c15c201$var$whiteLight.shadow.camera.near = 0.001;\n$667bd3e97c15c201$var$whiteLight.shadow.camera.far = 10;\n$667bd3e97c15c201$var$whiteLight.shadow.mapSize.width = 512;\n$667bd3e97c15c201$var$whiteLight.shadow.mapSize.height = 512;\n$667bd3e97c15c201$var$whiteLight.shadow.radius = 4;\nconst $667bd3e97c15c201$var$redLight = new (0, $6OvZu.PointLight)(0xff0000, 1, 10, 2);\n$667bd3e97c15c201$var$redLight.castShadow = true;\n$667bd3e97c15c201$var$redLight.shadow.camera.near = 0.001;\n$667bd3e97c15c201$var$redLight.shadow.camera.far = 10;\n$667bd3e97c15c201$var$redLight.shadow.mapSize.width = 512;\n$667bd3e97c15c201$var$redLight.shadow.mapSize.height = 512;\n$667bd3e97c15c201$var$redLight.shadow.radius = 4;\n$667bd3e97c15c201$var$redLight.castShadow = true;\n(0, $f8e1894b492f037f$export$9a196848560006bb)($667bd3e97c15c201$var$scene, $667bd3e97c15c201$var$whiteLight);\n(0, $f8e1894b492f037f$export$9a196848560006bb)($667bd3e97c15c201$var$scene, $667bd3e97c15c201$var$redLight);\nconst $667bd3e97c15c201$var$ambientLight = new (0, $6OvZu.AmbientLight)($667bd3e97c15c201$var$ambientLightColor);\n$667bd3e97c15c201$var$scene.add($667bd3e97c15c201$var$ambientLight);\nconst $667bd3e97c15c201$var$guiParams = {\n    debugLights: true,\n    light0: true,\n    light1: true,\n    animateLights: true,\n    model: \"sphere\"\n};\nconst $667bd3e97c15c201$var$gui = new (0, $dUO1w.GUI)();\n$667bd3e97c15c201$var$gui.add($667bd3e97c15c201$var$guiParams, \"debugLights\").onChange((value)=>{\n    (0, $f8e1894b492f037f$export$f5aad2eed8a5f1e1)(value);\n});\n(0, $f8e1894b492f037f$export$f5aad2eed8a5f1e1)($667bd3e97c15c201$var$guiParams.debugLights);\n$667bd3e97c15c201$var$gui.add($667bd3e97c15c201$var$guiParams, \"light0\").onChange((value)=>{\n    $667bd3e97c15c201$var$whiteLight.visible = value;\n});\n$667bd3e97c15c201$var$gui.add($667bd3e97c15c201$var$guiParams, \"light1\").onChange((value)=>{\n    $667bd3e97c15c201$var$redLight.visible = value;\n});\n$667bd3e97c15c201$var$gui.add($667bd3e97c15c201$var$guiParams, \"model\", [\n    \"sphere\",\n    \"cube\"\n]).onChange($667bd3e97c15c201$var$showModels);\nfunction $667bd3e97c15c201$var$showModels(value) {\n    for (const model of $667bd3e97c15c201$var$models)model.visible = false;\n    let thingsToShow;\n    switch(value){\n        case \"sphere\":\n            thingsToShow = $667bd3e97c15c201$var$spheres;\n            break;\n        case \"cube\":\n            thingsToShow = $667bd3e97c15c201$var$boxes;\n            break;\n    }\n    for (const model of thingsToShow)model.visible = true;\n}\n$667bd3e97c15c201$var$showModels($667bd3e97c15c201$var$guiParams.model);\n$667bd3e97c15c201$var$gui.add($667bd3e97c15c201$var$guiParams, \"animateLights\");\n// Show stats\n(0, $9a0281efa5d1b360$export$83c65e7868c10750)();\n// Main loop\nfunction $667bd3e97c15c201$var$animate() {\n    requestAnimationFrame($667bd3e97c15c201$var$animate);\n    $667bd3e97c15c201$var$step();\n    $667bd3e97c15c201$var$renderer.render($667bd3e97c15c201$var$scene, $667bd3e97c15c201$var$camera);\n    (0, $9a0281efa5d1b360$export$f4fa5dfc8595aab7)();\n}\n$667bd3e97c15c201$var$animate();\nvar $667bd3e97c15c201$var$lastTime = new Date().getTime();\nfunction $667bd3e97c15c201$var$step() {\n    const time = $667bd3e97c15c201$var$guiParams.animateLights ? new Date().getTime() : $667bd3e97c15c201$var$lastTime;\n    $667bd3e97c15c201$var$whiteLight.position.set(2 * Math.sin(time / 1000), 3, 2 * Math.cos(time / 1000));\n    $667bd3e97c15c201$var$redLight.position.set(1, 3 + 2 * Math.sin(time / 1000), 3);\n    $667bd3e97c15c201$var$lastTime = time;\n}\n\n})();\n//# sourceMappingURL=shadows.9eeef796.js.map\n","import {\n\tScene,\n\tPerspectiveCamera,\n\tWebGLRenderer,\n\tMeshStandardMaterial,\n\tMesh,\n\tPointLight,\n\tSphereGeometry,\n\tAmbientLight,\n\tPlaneBufferGeometry,\n\tVSMShadowMap,\n\tPCFShadowMap,\n\tPCFSoftShadowMap,\n\tBoxGeometry,\n} from \"three\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls.js\";\nimport { updateStats, toggleStats } from \"./debug-stats\";\nimport { addLight, setDebugLightsOn } from \"./lights\";\nimport { slamItOnTheGround } from \"./positioning\";\nimport { GUI } from \"dat.gui\";\n\nconst shadowMaps = [PCFSoftShadowMap, VSMShadowMap, PCFShadowMap];\n\nconst ambientLightColor = 0x111111;\n\nconst renderer = new WebGLRenderer({ antialias: true });\nrenderer.shadowMap.enabled = true;\nrenderer.shadowMap.type = shadowMaps[0];\nrenderer.setClearColor(ambientLightColor);\nrenderer.setSize(window.innerWidth, window.innerHeight);\ndocument.body.appendChild(renderer.domElement);\n\n// In the beginning ...\nconst scene = new Scene();\n\n// Camera\nconst camera = new PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\ncamera.position.x = 5;\ncamera.position.y = 5;\ncamera.position.z = 5;\nconst controls = new OrbitControls(camera, renderer.domElement);\ncontrols.maxPolarAngle = Math.PI * 0.45;\n\nconst plainMaterial = new MeshStandardMaterial();\n\n// Add the ground\nconst groundMesh = new Mesh(new PlaneBufferGeometry(1000, 1000), plainMaterial);\ngroundMesh.receiveShadow = true;\ngroundMesh.rotation.x = -Math.PI / 2;\nscene.add(groundMesh);\n\n// Add models\nconst spheres = [];\nconst boxes = [];\nfor (let x = -10; x <= 10; x += 5) {\n\tfor (let z = -10; z <= 10; z += 5) {\n\t\tconst sphere = new Mesh(new SphereGeometry(1, 20, 20), plainMaterial);\n\t\tsphere.position.set(x, 0, z);\n\t\tsphere.castShadow = true;\n\t\tsphere.receiveShadow = true;\n\t\tslamItOnTheGround(sphere, x, z, 0);\n\t\tspheres.push(sphere);\n\t\tscene.add(sphere);\n\n\t\tconst box = new Mesh(new BoxGeometry(2, 2, 2), plainMaterial);\n\t\tbox.position.set(x, 0, z);\n\t\tbox.castShadow = true;\n\t\tbox.receiveShadow = true;\n\t\tslamItOnTheGround(box, x, z, 0);\n\t\tboxes.push(box);\n\t\tscene.add(box);\n\t}\n}\nconst models = [...spheres, ...boxes];\n\n// Lights\nconst whiteLight = new PointLight(0xffffff, 1, 10, 2);\nwhiteLight.castShadow = true;\nwhiteLight.shadow.camera.near = 0.001;\nwhiteLight.shadow.camera.far = 10;\nwhiteLight.shadow.mapSize.width = 512;\nwhiteLight.shadow.mapSize.height = 512;\nwhiteLight.shadow.radius = 4;\nconst redLight = new PointLight(0xff0000, 1, 10, 2);\nredLight.castShadow = true;\nredLight.shadow.camera.near = 0.001;\nredLight.shadow.camera.far = 10;\nredLight.shadow.mapSize.width = 512;\nredLight.shadow.mapSize.height = 512;\nredLight.shadow.radius = 4;\nredLight.castShadow = true;\n\naddLight(scene, whiteLight);\naddLight(scene, redLight);\n\nconst ambientLight = new AmbientLight(ambientLightColor);\nscene.add(ambientLight);\n\nconst guiParams = {\n\tdebugLights: true,\n\tlight0: true,\n\tlight1: true,\n\tanimateLights: true,\n\tmodel: \"sphere\",\n};\n\nconst gui = new GUI();\ngui.add(guiParams, \"debugLights\").onChange((value) => {\n\tsetDebugLightsOn(value);\n});\nsetDebugLightsOn(guiParams.debugLights);\n\ngui.add(guiParams, \"light0\").onChange((value) => {\n\twhiteLight.visible = value;\n});\ngui.add(guiParams, \"light1\").onChange((value) => {\n\tredLight.visible = value;\n});\n\ngui.add(guiParams, \"model\", [\"sphere\", \"cube\"]).onChange(showModels);\nfunction showModels(value) {\n\tfor (const model of models) {\n\t\tmodel.visible = false;\n\t}\n\tlet thingsToShow;\n\tswitch (value) {\n\t\tcase \"sphere\":\n\t\t\tthingsToShow = spheres;\n\t\t\tbreak;\n\t\tcase \"cube\":\n\t\t\tthingsToShow = boxes;\n\t\t\tbreak;\n\t}\n\tfor (const model of thingsToShow) {\n\t\tmodel.visible = true;\n\t}\n}\nshowModels(guiParams.model);\n\ngui.add(guiParams, \"animateLights\");\n\n// Show stats\ntoggleStats();\n\n// Main loop\nfunction animate() {\n\trequestAnimationFrame(animate);\n\tstep();\n\trenderer.render(scene, camera);\n\tupdateStats();\n}\nanimate();\n\nvar lastTime = new Date().getTime();\nfunction step() {\n\tconst time = guiParams.animateLights ? new Date().getTime() : lastTime;\n\twhiteLight.position.set(2 * Math.sin(time / 1000), 3, 2 * Math.cos(time / 1000));\n\tredLight.position.set(1, 3 + 2 * Math.sin(time / 1000), 3);\n\tlastTime = time;\n}\n","import Stats from \"stats-js\";\n\nconst stats = new Stats();\nstats.showPanel(0); // 0: fps, 1: ms, 2: mb, 3+: custom\n\nexport function updateStats() {\n\tstats.update();\n}\n\nlet showStats = false;\nexport function toggleStats() {\n\tshowStats = !showStats;\n\tif (showStats) {\n\t\tdocument.body.appendChild(stats.dom);\n\t} else {\n\t\tstats.dom.remove();\n\t}\n}\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):e.Stats=t()}(this,function(){\"use strict\";var c=function(){var n=0,l=document.createElement(\"div\");function e(e){return l.appendChild(e.dom),e}function t(e){for(var t=0;t<l.children.length;t++)l.children[t].style.display=t===e?\"block\":\"none\";n=e}l.style.cssText=\"position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000\",l.addEventListener(\"click\",function(e){e.preventDefault(),t(++n%l.children.length)},!1);var i=(performance||Date).now(),a=i,o=0,f=e(new c.Panel(\"FPS\",\"#0ff\",\"#002\")),r=e(new c.Panel(\"MS\",\"#0f0\",\"#020\"));if(self.performance&&self.performance.memory)var d=e(new c.Panel(\"MB\",\"#f08\",\"#201\"));return t(0),{REVISION:16,dom:l,addPanel:e,showPanel:t,begin:function(){i=(performance||Date).now()},end:function(){o++;var e=(performance||Date).now();if(r.update(e-i,200),a+1e3<=e&&(f.update(1e3*o/(e-a),100),a=e,o=0,d)){var t=performance.memory;d.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){i=this.end()},domElement:l,setMode:t}};return c.Panel=function(n,l,i){var a=1/0,o=0,f=Math.round,r=f(window.devicePixelRatio||1),d=80*r,e=48*r,c=3*r,p=2*r,u=3*r,s=15*r,m=74*r,h=30*r,y=document.createElement(\"canvas\");y.width=d,y.height=e,y.style.cssText=\"width:80px;height:48px\";var v=y.getContext(\"2d\");return v.font=\"bold \"+9*r+\"px Helvetica,Arial,sans-serif\",v.textBaseline=\"top\",v.fillStyle=i,v.fillRect(0,0,d,e),v.fillStyle=l,v.fillText(n,c,p),v.fillRect(u,s,m,h),v.fillStyle=i,v.globalAlpha=.9,v.fillRect(u,s,m,h),{dom:y,update:function(e,t){a=Math.min(a,e),o=Math.max(o,e),v.fillStyle=i,v.globalAlpha=1,v.fillRect(0,0,d,s),v.fillStyle=l,v.fillText(f(e)+\" \"+n+\" (\"+f(a)+\"-\"+f(o)+\")\",c,p),v.drawImage(y,u+r,s,m-r,h,u,s,m-r,h),v.fillRect(u+m-r,s,r,h),v.fillStyle=i,v.globalAlpha=.9,v.fillRect(u+m-r,s,r,f((1-e/t)*h))}}},c});\n","import { BoxGeometry, MeshBasicMaterial, Mesh, Group, PointLightHelper } from \"three\";\n\nconst lights = [];\nconst lightHelperSize = 0.1;\nexport function addLight(scene, light) {\n\tconst pointLightHelper = new PointLightHelper(light, lightHelperSize);\n\tpointLightHelper.visible = false;\n\n\tscene.add(light);\n\tscene.add(pointLightHelper);\n\n\tconst debugableLight = {\n\t\tlight,\n\t\tsetDebugLightOn: (value) => {\n\t\t\tpointLightHelper.visible = value;\n\t\t},\n\t};\n\tlights.push(debugableLight);\n\treturn debugableLight;\n}\n\nexport function setDebugLightsOn(value) {\n\tfor (const light of lights) {\n\t\tlight.setDebugLightOn(value);\n\t}\n}\n","import { Vector3 } from \"three\";\n\nexport function slamItOnTheGround(mesh, x, z, groundLevel = 0) {\n\tif (!mesh.geometry.boundingBox) {\n\t\tmesh.geometry.computeBoundingBox();\n\t}\n\tmesh.position.x = x;\n\tmesh.position.y = groundLevel - mesh.geometry.boundingBox.min.y;\n\tmesh.position.z = z;\n}\n\nexport function makeCentered(mesh) {\n\tif (!mesh.geometry.boundingBox) {\n\t\tmesh.geometry.computeBoundingBox();\n\t}\n\n\t// For some reason, Three requires a Vector3 passed into getSize\n\tmesh.position.x = -mesh.geometry.boundingBox.getSize(new Vector3()).x / 2;\n\tmesh.position.y = -mesh.geometry.boundingBox.getSize(new Vector3()).y / 2;\n\tmesh.position.z = -mesh.geometry.boundingBox.getSize(new Vector3()).z / 2;\n}\n"],"names":["c","a","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$6OvZu","$3bF5H","$5a9133f987667d9e$exports","n","l","document","createElement","e","appendChild","dom","t","children","length","style","display","cssText","addEventListener","preventDefault","i","performance","Date","now","o","f","Panel","r","memory","d","REVISION","addPanel","showPanel","begin","end","update","usedJSHeapSize","jsHeapSizeLimit","domElement","setMode","Math","round","devicePixelRatio","p","u","s","m","h","y","width","height","v","getContext","font","textBaseline","fillStyle","fillRect","fillText","globalAlpha","min","max","drawImage","$9a0281efa5d1b360$var$stats","__esModule","default","$9a0281efa5d1b360$var$showStats","$f8e1894b492f037f$var$lights","$f8e1894b492f037f$export$9a196848560006bb","scene","light","pointLightHelper","PointLightHelper","visible","add","debugableLight","setDebugLightOn","value","push","$f8e1894b492f037f$export$f5aad2eed8a5f1e1","$59b73570dc707e75$export$29750db5b923b987","mesh","x","z","groundLevel","geometry","boundingBox","computeBoundingBox","position","$dUO1w","$667bd3e97c15c201$var$shadowMaps","PCFSoftShadowMap","VSMShadowMap","PCFShadowMap","$667bd3e97c15c201$var$renderer","WebGLRenderer","antialias","shadowMap","enabled","type","setClearColor","setSize","innerWidth","innerHeight","body","$667bd3e97c15c201$var$scene","Scene","$667bd3e97c15c201$var$camera","PerspectiveCamera","$667bd3e97c15c201$var$controls","OrbitControls","maxPolarAngle","PI","$667bd3e97c15c201$var$plainMaterial","MeshStandardMaterial","$667bd3e97c15c201$var$groundMesh","Mesh","PlaneBufferGeometry","receiveShadow","rotation","$667bd3e97c15c201$var$spheres","$667bd3e97c15c201$var$boxes","sphere","SphereGeometry","set","castShadow","box","BoxGeometry","$667bd3e97c15c201$var$models","$667bd3e97c15c201$var$whiteLight","PointLight","shadow","camera","near","far","mapSize","radius","$667bd3e97c15c201$var$redLight","$667bd3e97c15c201$var$ambientLight","AmbientLight","$667bd3e97c15c201$var$guiParams","debugLights","light0","light1","animateLights","model","$667bd3e97c15c201$var$gui","GUI","$667bd3e97c15c201$var$showModels","thingsToShow","onChange","remove","$667bd3e97c15c201$var$animate","requestAnimationFrame","$667bd3e97c15c201$var$step","time","getTime","$667bd3e97c15c201$var$lastTime","sin","cos","render"],"version":3,"file":"shadows.9eeef796.js.map"}